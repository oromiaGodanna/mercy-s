<div nz-row>
  <div nz-col nzSpan="20">
    <nz-page-header nzBackIcon nzTitle="Department List" nzSubtitle="{{organization.name}}">
      <nz-breadcrumb nz-page-header-breadcrumb>
        <nz-breadcrumb-item><a [routerLink]="['/organization']" routerLinkActive="router-link-active">Organizations</a></nz-breadcrumb-item>
        <nz-breadcrumb-item><a [routerLink]="['/org-details',  organization_id]" routerLinkActive="router-link-active">{{organization.name}}</a></nz-breadcrumb-item>
        <nz-breadcrumb-item class="selected"> Departments</nz-breadcrumb-item>
      </nz-breadcrumb>
    </nz-page-header>
    <button type="button" nz-button nzSize="defualt" nzType="primary" style="margin-left: 20px; float: left;" (click)="onAddDepartment()"
      type="submit">
      <i nz-icon [type]="'plus'"></i>Add New Department</button>
      <div style="float: right;">
        <h3>View Mode</h3>
        <nz-switch nzSize="default" [(ngModel)]="switchMode" nzCheckedChildren="Table" nzUnCheckedChildren="Tree">
        </nz-switch>
      </div>
  </div>
</div>

<div nz-row  *ngIf="switchMode">
  <div nz-col nzSpan="24">
    <nz-divider nzDashed nzText="Table"></nz-divider>
  </div>
</div>

<div nz-row  *ngIf="!switchMode">
  <div nz-col nzSpan="24">
    <nz-divider nzDashed nzText="Tree"></nz-divider>
  </div>
</div>


<div *ngIf="switchMode">
  <div nz-row>
    <div nz-col nzSpan="20" nzOffset="2">
      <nz-table #basicTable [nzData]="organizationDepartments">
        <thead>
          <tr>
            <th> Name</th>
            <th> Description </th>
            <th> Organization</th>
            <th> Parent</th>
            <th> Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let department of organizationDepartments;let i=index">
            <td>{{department.name}}</td>
            <td>{{department.description}}</td>
            <td>{{department.organizationName}}</td>
            <td> {{department.parentName}}</td>
            <td>
              <a><i style="font-size: 20px; color: #08c;" nz-icon nzType="eye" nzTheme="outline" nz-tooltip
                  nzTitle="View {{department.name}} Details" (click)="onView(department.id)"></i></a>
              <nz-divider nzType="vertical"></nz-divider>
              <a><i style="font-size: 20px; color:#08c;;" nz-icon nzType="edit" nz-tooltip
                  nzTitle="Edit {{department.name}}" (click)="onEdit(department.id)"></i></a>
              <nz-divider nzType="vertical"></nz-divider>
              <a><i style="font-size: 20px; color: red;" nz-icon nzType="delete" nzTheme="outline" nz-tooltip
                  nzTitle="Delete {{department.name}}" (click)="onDelete(department.id)"></i></a>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </div>
  </div>
</div>

<div *ngIf="!switchMode">
  <div nz-col nzOffset="2">
    <h1>Tree Structure</h1>
  </div>

  <div nz-row *ngIf="empty">
    <div nz-col nzOffset="4">
      <h1>No content to be displayed!!!!</h1>
      <h2><a (click)="onAddDepartment()">Add Departments</a></h2>
    </div>
  </div>

  <div nz-row *ngIf="organizationDepartments !=  []">
    <div nz-col nzSpan="14" nzOffset="4">
      <nz-tree [nzData]="nodes" [nzShowLine]="true" [nzSelectedKeys]="defaultSelectedKeys" (nzClick)="nzClick($event)">
      </nz-tree>
    </div>
  </div>

</div>